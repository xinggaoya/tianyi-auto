services:
  tianyi-auto:
    build: .
    network_mode: host # required to reach LAN router from container
    restart: always
    environment:
      - ROUTER_PASSWORD=crjnb
    command:
      - "--host"
      - "http://192.168.1.1"
      - "--username"
      - "useradmin"
      - "--password"
      - "${ROUTER_PASSWORD}"
      - "--cron"
      - "0 4 * * Mon"
    # uncomment if you want an immediate run on container start
    #   - "--run-now"
